{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/joesh/OneDrive/Desktop/jammming-project-solution/jammming-project-solution/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/joesh/OneDrive/Desktop/jammming-project-solution/jammming-project-solution/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// Information to reach API\n\n//Asynchronous functions\nexport var generateText = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(prompt) {\n    var API_URL, api_key, data, response, jsonResponse, responseArray, filteredResponse;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          API_URL = \"https://api.openai.com/v1/engines/text-davinci-003/completions\";\n          api_key = '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';\n          data = JSON.stringify({\n            prompt: prompt,\n            temperature: 0.5,\n            max_tokens: 500,\n            top_p: 1,\n            frequency_penalty: 0,\n            presence_penalty: 0\n          });\n          _context.prev = 3;\n          _context.next = 6;\n          return fetch(API_URL, {\n            method: \"POST\",\n            body: data,\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": \"Bearer \".concat(api_key)\n            }\n          });\n        case 6:\n          response = _context.sent;\n          if (!response.ok) {\n            _context.next = 14;\n            break;\n          }\n          _context.next = 10;\n          return response.json();\n        case 10:\n          jsonResponse = _context.sent;\n          responseArray = jsonResponse.choices[0].text.split(/\\d+\\.\\s/g);\n          filteredResponse = responseArray.map(function (element) {\n            return element.replace(/\\n|\\d+\\./g, \"\").trim();\n          }).filter(function (element) {\n            return element !== \"\";\n          });\n          return _context.abrupt(\"return\", filteredResponse);\n        case 14:\n          _context.next = 19;\n          break;\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](3);\n          console.log(_context.t0);\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 16]]);\n  }));\n  return function generateText(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var generateImage = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(prompt) {\n    var API_URL, api_key, data, response, jsonResponse;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          API_URL = \"https://api.openai.com/v1/images/generations/dall-e/5\";\n          api_key = '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';\n          data = JSON.stringify({\n            \"model\": \"image-alpha-001\",\n            \"prompt\": prompt,\n            \"num_images\": 1,\n            \"size\": \"512x512\"\n          });\n          _context2.prev = 3;\n          _context2.next = 6;\n          return fetch(API_URL, {\n            method: \"POST\",\n            body: data,\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": \"Bearer \".concat(api_key)\n            }\n          });\n        case 6:\n          response = _context2.sent;\n          if (!response.ok) {\n            _context2.next = 12;\n            break;\n          }\n          _context2.next = 10;\n          return response.json();\n        case 10:\n          jsonResponse = _context2.sent;\n          return _context2.abrupt(\"return\", jsonResponse.data[0].url);\n        case 12:\n          _context2.next = 17;\n          break;\n        case 14:\n          _context2.prev = 14;\n          _context2.t0 = _context2[\"catch\"](3);\n          console.log(_context2.t0);\n        case 17:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 14]]);\n  }));\n  return function generateImage(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport default {\n  generateText: generateText,\n  generateImage: generateImage\n};","map":{"version":3,"names":["generateText","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","prompt","API_URL","api_key","data","response","jsonResponse","responseArray","filteredResponse","wrap","_callee$","_context","prev","next","JSON","stringify","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","fetch","method","body","headers","concat","sent","ok","json","choices","text","split","map","element","replace","trim","filter","abrupt","t0","console","log","stop","_x","apply","arguments","generateImage","_ref2","_callee2","_callee2$","_context2","url","_x2"],"sources":["C:/Users/joesh/OneDrive/Desktop/jammming-project-solution/jammming-project-solution/src/util/OpenAiAPIRequest.js"],"sourcesContent":["// Information to reach API\r\n\r\n//Asynchronous functions\r\nexport const generateText = async(prompt) => {\r\n    const API_URL = \"https://api.openai.com/v1/engines/text-davinci-003/completions\";\r\n    const api_key = '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';\r\n\r\n    const data = JSON.stringify({\r\n      prompt: prompt,\r\n      temperature: 0.5,\r\n      max_tokens: 500,\r\n      top_p: 1,\r\n      frequency_penalty: 0,\r\n      presence_penalty: 0\r\n    });\r\n\r\n    try {\r\n        const response = await fetch(API_URL, {\r\n            method: \"POST\",\r\n            body: data,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${api_key}`\r\n            }\r\n            });\r\n            if(response.ok){\r\n            const jsonResponse = await response.json();\r\n            const responseArray = jsonResponse.choices[0].text.split(/\\d+\\.\\s/g);\r\n            const filteredResponse = responseArray.map((element) => {\r\n                return element.replace(/\\n|\\d+\\./g, \"\").trim();\r\n            }).filter((element) => element !== \"\");\r\n            return(filteredResponse);\r\n        }\r\n    } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\nexport const generateImage = async(prompt) => {\r\n    const API_URL = \"https://api.openai.com/v1/images/generations/dall-e/5\";\r\n    const api_key = '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';\r\n\r\n    const data = JSON.stringify({\r\n        \"model\": \"image-alpha-001\",\r\n        \"prompt\": prompt,\r\n        \"num_images\": 1,\r\n        \"size\": \"512x512\"\r\n    });\r\n\r\n    try {\r\n        const response = await fetch(API_URL, {\r\n            method: \"POST\",\r\n            body: data,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${api_key}`\r\n            }\r\n        });\r\n        if(response.ok){\r\n            const jsonResponse = await response.json();\r\n            return jsonResponse.data[0].url;\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n\r\nexport default {generateText, generateImage};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}