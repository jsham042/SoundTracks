{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/joesh/OneDrive/Desktop/jammming-project-solution/jammming-project-solution/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/joesh/OneDrive/Desktop/jammming-project-solution/jammming-project-solution/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// Information to reach API\nvar API_URL = \"https://api.openai.com/v1/engines/text-davinci-003/completions\";\nvar api_key = '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';\n\n//Asynchronous functions\nexport var generateSongRecommendations = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(prompt) {\n    var data, response, jsonResponse, responseArray, filteredResponse;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          data = JSON.stringify({\n            prompt: prompt,\n            temperature: 0.5,\n            max_tokens: 500,\n            top_p: 1,\n            frequency_penalty: 0,\n            presence_penalty: 0\n          });\n          _context.prev = 1;\n          _context.next = 4;\n          return fetch(API_URL, {\n            method: \"POST\",\n            body: data,\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": \"Bearer \".concat(api_key)\n            }\n          });\n        case 4:\n          response = _context.sent;\n          if (!response.ok) {\n            _context.next = 12;\n            break;\n          }\n          _context.next = 8;\n          return response.json();\n        case 8:\n          jsonResponse = _context.sent;\n          responseArray = jsonResponse.choices[0].text.split(/\\d+\\.\\s/g);\n          filteredResponse = responseArray.map(function (element) {\n            return element.replace(/\\n|\\d+\\./g, \"\").trim();\n          }).filter(function (element) {\n            return element !== \"\";\n          });\n          return _context.abrupt(\"return\", filteredResponse);\n        case 12:\n          _context.next = 17;\n          break;\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](1);\n          console.log(_context.t0);\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 14]]);\n  }));\n  return function generateSongRecommendations(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//\n// export const generatePlaylistName = async(prompt) => {\n//     const data = JSON.stringify({\n//         prompt: prompt,\n//         temperature: 0.5,\n//         max_tokens: 500,\n//         top_p: 1,\n//         frequency_penalty: 0,\n//         presence_penalty: 0\n//     });\n//\n//     try {\n//         const response = await fetch(API_URL, {\n//             method: \"POST\",\n//             body: data,\n//             headers: {\n//                 \"Content-Type\": \"application/json\",\n//                 \"Authorization\": `Bearer ${api_key}`\n//             }\n//         });\n//         if(response.ok){\n//             const jsonResponse = await response.json();\n//             const textResponse = jsonResponse.choices[0].text\n//             return(textResponse);\n//         }\n//     } catch (error) {\n//         console.log(error);\n//     }\n//\n// }\n// const prompt = \"Come up with a playlist name for playlist with the following vibe: driving down the 101 with the windows down. I'm with friends who like country music. make it less than 50 characters\";\n// const playlistName = await generatePlaylistName(prompt);\n// console.log(playlistName);\n\n// export const generateImage = async(prompt) => {\n//\n//\n//     const data = JSON.stringify({\n//         \"model\": \"image-alpha-001\",\n//         \"prompt\": prompt,\n//         \"num_images\": 1,\n//         \"size\": \"512x512\"\n//     });\n//\n//     try {\n//         const response = await fetch(API_URL, {\n//             method: \"POST\",\n//             body: data,\n//             headers: {\n//                 \"Content-Type\": \"application/json\",\n//                 \"Authorization\": `Bearer ${api_key}`\n//             }\n//         });\n//         if(response.ok){\n//             const jsonResponse = await response.json();\n//             return jsonResponse.data[0].url;\n//         }\n//     } catch (error) {\n//         console.log(error);\n//     }\n// }\n\nexport default {\n  generateSongRecommendations: generateSongRecommendations,\n  generatePlaylistName: generatePlaylistName\n};","map":{"version":3,"names":["API_URL","api_key","generateSongRecommendations","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","prompt","data","response","jsonResponse","responseArray","filteredResponse","wrap","_callee$","_context","prev","next","JSON","stringify","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","fetch","method","body","headers","concat","sent","ok","json","choices","text","split","map","element","replace","trim","filter","abrupt","t0","console","log","stop","_x","apply","arguments","generatePlaylistName"],"sources":["C:/Users/joesh/OneDrive/Desktop/jammming-project-solution/jammming-project-solution/src/util/OpenAiAPIRequest.js"],"sourcesContent":["// Information to reach API\r\nconst API_URL = \"https://api.openai.com/v1/engines/text-davinci-003/completions\";\r\nconst api_key = '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';\r\n\r\n//Asynchronous functions\r\nexport const generateSongRecommendations = async(prompt) => {\r\n\r\n\r\n    const data = JSON.stringify({\r\n      prompt: prompt,\r\n      temperature: 0.5,\r\n      max_tokens: 500,\r\n      top_p: 1,\r\n      frequency_penalty: 0,\r\n      presence_penalty: 0\r\n    });\r\n\r\n    try {\r\n        const response = await fetch(API_URL, {\r\n            method: \"POST\",\r\n            body: data,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${api_key}`\r\n            }\r\n            });\r\n            if(response.ok){\r\n            const jsonResponse = await response.json();\r\n            const responseArray = jsonResponse.choices[0].text.split(/\\d+\\.\\s/g);\r\n            const filteredResponse = responseArray.map((element) => {\r\n                return element.replace(/\\n|\\d+\\./g, \"\").trim();\r\n            }).filter((element) => element !== \"\");\r\n            return(filteredResponse);\r\n        }\r\n    } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n//\r\n// export const generatePlaylistName = async(prompt) => {\r\n//     const data = JSON.stringify({\r\n//         prompt: prompt,\r\n//         temperature: 0.5,\r\n//         max_tokens: 500,\r\n//         top_p: 1,\r\n//         frequency_penalty: 0,\r\n//         presence_penalty: 0\r\n//     });\r\n//\r\n//     try {\r\n//         const response = await fetch(API_URL, {\r\n//             method: \"POST\",\r\n//             body: data,\r\n//             headers: {\r\n//                 \"Content-Type\": \"application/json\",\r\n//                 \"Authorization\": `Bearer ${api_key}`\r\n//             }\r\n//         });\r\n//         if(response.ok){\r\n//             const jsonResponse = await response.json();\r\n//             const textResponse = jsonResponse.choices[0].text\r\n//             return(textResponse);\r\n//         }\r\n//     } catch (error) {\r\n//         console.log(error);\r\n//     }\r\n//\r\n// }\r\n// const prompt = \"Come up with a playlist name for playlist with the following vibe: driving down the 101 with the windows down. I'm with friends who like country music. make it less than 50 characters\";\r\n// const playlistName = await generatePlaylistName(prompt);\r\n// console.log(playlistName);\r\n\r\n\r\n// export const generateImage = async(prompt) => {\r\n//\r\n//\r\n//     const data = JSON.stringify({\r\n//         \"model\": \"image-alpha-001\",\r\n//         \"prompt\": prompt,\r\n//         \"num_images\": 1,\r\n//         \"size\": \"512x512\"\r\n//     });\r\n//\r\n//     try {\r\n//         const response = await fetch(API_URL, {\r\n//             method: \"POST\",\r\n//             body: data,\r\n//             headers: {\r\n//                 \"Content-Type\": \"application/json\",\r\n//                 \"Authorization\": `Bearer ${api_key}`\r\n//             }\r\n//         });\r\n//         if(response.ok){\r\n//             const jsonResponse = await response.json();\r\n//             return jsonResponse.data[0].url;\r\n//         }\r\n//     } catch (error) {\r\n//         console.log(error);\r\n//     }\r\n// }\r\n\r\n\r\n\r\nexport default {generateSongRecommendations, generatePlaylistName};\r\n"],"mappings":";;AAAA;AACA,IAAMA,OAAO,GAAG,gEAAgE;AAChF,IAAMC,OAAO,GAAG,qDAAqD;;AAErE;AACA,OAAO,IAAMC,2BAA2B;EAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,MAAM;IAAA,IAAAC,IAAA,EAAAC,QAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,gBAAA;IAAA,OAAAR,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAG7CT,IAAI,GAAGU,IAAI,CAACC,SAAS,CAAC;YAC1BZ,MAAM,EAAEA,MAAM;YACda,WAAW,EAAE,GAAG;YAChBC,UAAU,EAAE,GAAG;YACfC,KAAK,EAAE,CAAC;YACRC,iBAAiB,EAAE,CAAC;YACpBC,gBAAgB,EAAE;UACpB,CAAC,CAAC;UAAAT,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAGyBQ,KAAK,CAAC1B,OAAO,EAAE;YAClC2B,MAAM,EAAE,MAAM;YACdC,IAAI,EAAEnB,IAAI;YACVoB,OAAO,EAAE;cACL,cAAc,EAAE,kBAAkB;cAClC,eAAe,YAAAC,MAAA,CAAY7B,OAAO;YACtC;UACA,CAAC,CAAC;QAAA;UAPAS,QAAQ,GAAAM,QAAA,CAAAe,IAAA;UAAA,KAQPrB,QAAQ,CAACsB,EAAE;YAAAhB,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OACaR,QAAQ,CAACuB,IAAI,EAAE;QAAA;UAApCtB,YAAY,GAAAK,QAAA,CAAAe,IAAA;UACZnB,aAAa,GAAGD,YAAY,CAACuB,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,KAAK,CAAC,UAAU,CAAC;UAC9DvB,gBAAgB,GAAGD,aAAa,CAACyB,GAAG,CAAC,UAACC,OAAO,EAAK;YACpD,OAAOA,OAAO,CAACC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAACC,IAAI,EAAE;UAClD,CAAC,CAAC,CAACC,MAAM,CAAC,UAACH,OAAO;YAAA,OAAKA,OAAO,KAAK,EAAE;UAAA,EAAC;UAAA,OAAAtB,QAAA,CAAA0B,MAAA,WAC/B7B,gBAAgB;QAAA;UAAAG,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAA2B,EAAA,GAAA3B,QAAA;UAGvB4B,OAAO,CAACC,GAAG,CAAA7B,QAAA,CAAA2B,EAAA,CAAO;QAAC;QAAA;UAAA,OAAA3B,QAAA,CAAA8B,IAAA;MAAA;IAAA,GAAAvC,OAAA;EAAA,CAE1B;EAAA,gBAhCQL,2BAA2BA,CAAA6C,EAAA;IAAA,OAAA5C,IAAA,CAAA6C,KAAA,OAAAC,SAAA;EAAA;AAAA,GAgCnC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,eAAe;EAAC/C,2BAA2B,EAA3BA,2BAA2B;EAAEgD,oBAAoB,EAApBA;AAAoB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}