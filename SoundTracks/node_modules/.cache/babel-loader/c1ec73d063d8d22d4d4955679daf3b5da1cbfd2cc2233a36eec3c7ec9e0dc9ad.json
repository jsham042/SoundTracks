{"ast":null,"code":"import _toConsumableArray from\"C:/Users/joesh/OneDrive/Desktop/SoundTracks/SoundTracks/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"C:/Users/joesh/OneDrive/Desktop/SoundTracks/SoundTracks/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/joesh/OneDrive/Desktop/SoundTracks/SoundTracks/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/joesh/OneDrive/Desktop/SoundTracks/SoundTracks/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/joesh/OneDrive/Desktop/SoundTracks/SoundTracks/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/joesh/OneDrive/Desktop/SoundTracks/SoundTracks/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./App.css';import Playlist from'../Playlist/Playlist.js';import SearchBar from'../SearchBar/SearchBar.js';import SearchResults from'../SearchResults/SearchResults.js';import Spotify from'../../util/Spotify.js';import{generatePlaylistName as _generatePlaylistName,generateSongRecommendations}from\"../../util/OpenAiAPIRequest.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={searchResults:[],playlistName:'New Playlist',playlistTracks:[]};_this.search=_this.search.bind(_assertThisInitialized(_this));_this.openAiSearch=_this.openAiSearch.bind(_assertThisInitialized(_this));_this.addTrack=_this.addTrack.bind(_assertThisInitialized(_this));_this.removeTrack=_this.removeTrack.bind(_assertThisInitialized(_this));_this.updatePlaylistName=_this.updatePlaylistName.bind(_assertThisInitialized(_this));_this.savePlaylist=_this.savePlaylist.bind(_assertThisInitialized(_this));_this.generatePlaylistName=_this.generatePlaylistName.bind(_assertThisInitialized(_this));Spotify.getAccessToken();return _this;}_createClass(App,[{key:\"search\",value:function search(term){var _this2=this;Spotify.search(term).then(function(searchResults){_this2.setState({searchResults:searchResults});});}},{key:\"openAiSearch\",value:function openAiSearch(prompt){var _this3=this;generateSongRecommendations(\"Give me 20 song recommendations for this prompt: \".concat(prompt,\". Format the response with this convention Song Name - Artist Name 2. Song Name - Artist Name\")).then(function(response){var songList=response.slice(0,20);// Get the first 20 song recommendations\nvar promises=songList.map(function(song){return Spotify.openAiSearch(song);});// Create an array of promises for each song search\nPromise.all(promises)// Wait for all promises to resolve\n.then(function(searchResultsArray){var _ref;var searchResults=(_ref=[]).concat.apply(_ref,_toConsumableArray(searchResultsArray));// Concatenate all search results into a single array\n_this3.setState({searchResults:searchResults});}).catch(function(error){console.error(error);});}).catch(function(error){console.error(error);});}},{key:\"generatePlaylistName\",value:function generatePlaylistName(prompt){var _this4=this;_generatePlaylistName(\"Come up with a playlist name for playlist with the following vibe: \".concat(prompt,\" make it less than 50 characters\")).then(function(playListName){_this4.setState({playListName:playListName});});}},{key:\"addTrack\",value:function addTrack(track){var tracks=this.state.playlistTracks;if(tracks.find(function(savedTrack){return savedTrack.id===track.id;})){return;}tracks.push(track);this.setState({playlistTracks:tracks});var searchResults=this.state.searchResults;searchResults.splice(searchResults.indexOf(track),1);this.setState({searchResults:searchResults});}},{key:\"removeTrack\",value:function removeTrack(track){var tracks=this.state.playlistTracks;tracks=tracks.filter(function(currentTrack){return currentTrack.id!==track.id;});this.setState({playlistTracks:tracks});var searchResults=this.state.searchResults;searchResults.push(track);this.setState({searchResults:searchResults});}},{key:\"updatePlaylistName\",value:function updatePlaylistName(name){this.setState({playlistName:name});}},{key:\"savePlaylist\",value:function savePlaylist(){var _this5=this;var trackUris=this.state.playlistTracks.map(function(track){return track.uri;});Spotify.savePlaylist(this.state.playlistName,trackUris).then(function(){_this5.setState({playlistName:'[NAME PLAYLIST]',playlistTracks:[]});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"SOUND\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"TRACKS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:this.openAiSearch}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-playlist\",children:[/*#__PURE__*/_jsx(SearchResults,{searchResults:this.state.searchResults,onAdd:this.addTrack}),/*#__PURE__*/_jsx(Playlist,{playlistName:this.state.playlistName,playlistTracks:this.state.playlistTracks,onNameChange:this.updatePlaylistName,onRemove:this.removeTrack,onSave:this.savePlaylist})]})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","Playlist","SearchBar","SearchResults","Spotify","generatePlaylistName","generateSongRecommendations","jsx","_jsx","jsxs","_jsxs","App","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","searchResults","playlistName","playlistTracks","search","bind","_assertThisInitialized","openAiSearch","addTrack","removeTrack","updatePlaylistName","savePlaylist","getAccessToken","_createClass","key","value","term","_this2","then","setState","prompt","_this3","concat","response","songList","slice","promises","map","song","Promise","all","searchResultsArray","_ref","apply","_toConsumableArray","catch","error","console","_this4","playListName","track","tracks","find","savedTrack","id","push","splice","indexOf","filter","currentTrack","name","_this5","trackUris","uri","render","children","className","onSearch","onAdd","onNameChange","onRemove","onSave","Component"],"sources":["C:/Users/joesh/OneDrive/Desktop/SoundTracks/SoundTracks/src/components/App/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\n\nimport Playlist from '../Playlist/Playlist.js';\nimport SearchBar from '../SearchBar/SearchBar.js';\nimport SearchResults from '../SearchResults/SearchResults.js';\nimport Spotify from '../../util/Spotify.js';\nimport {generatePlaylistName, generateSongRecommendations} from \"../../util/OpenAiAPIRequest.js\";\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchResults: [],\n      playlistName: 'New Playlist',\n      playlistTracks: [],\n    };\n\n    this.search = this.search.bind(this);\n    this.openAiSearch = this.openAiSearch.bind(this);\n    this.addTrack = this.addTrack.bind(this);\n    this.removeTrack = this.removeTrack.bind(this);\n    this.updatePlaylistName = this.updatePlaylistName.bind(this);\n    this.savePlaylist = this.savePlaylist.bind(this);\n    this.generatePlaylistName = this.generatePlaylistName.bind(this);\n\n    Spotify.getAccessToken();\n\n  }\n\n  search(term) {\n    Spotify.search(term).then(searchResults => {\n      this.setState({searchResults: searchResults});\n    });\n  }\n\n\n  openAiSearch(prompt){\n    generateSongRecommendations(`Give me 20 song recommendations for this prompt: ${prompt}. Format the response with this convention Song Name - Artist Name 2. Song Name - Artist Name`)\n        .then((response) => {\n          const songList = response.slice(0, 20); // Get the first 20 song recommendations\n          const promises = songList.map(song => Spotify.openAiSearch(song)); // Create an array of promises for each song search\n          Promise.all(promises) // Wait for all promises to resolve\n              .then((searchResultsArray) => {\n                const searchResults = [].concat(...searchResultsArray); // Concatenate all search results into a single array\n                this.setState({searchResults: searchResults});\n              })\n              .catch((error) => {\n                console.error(error);\n              });\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n  }\n\n  generatePlaylistName(prompt) {\n    generatePlaylistName(`Come up with a playlist name for playlist with the following vibe: ${prompt} make it less than 50 characters`).then(playListName => {\n      this.setState({playListName: playListName});\n    });\n  }\n\n  addTrack(track) {\n    let tracks = this.state.playlistTracks;\n    if (tracks.find(savedTrack => savedTrack.id === track.id)) {\n      return;\n    }\n    tracks.push(track);\n    this.setState({playlistTracks: tracks});\n    let searchResults = this.state.searchResults;\n    searchResults.splice(searchResults.indexOf(track),1);\n    this.setState({searchResults: searchResults })\n  }\n\n  removeTrack(track) {\n    let tracks = this.state.playlistTracks;\n    tracks = tracks.filter(currentTrack => currentTrack.id !== track.id);\n    this.setState({playlistTracks: tracks});\n    let searchResults = this.state.searchResults;\n    searchResults.push(track);\n    this.setState({searchResults: searchResults })\n  }\n\n  updatePlaylistName(name) {\n    this.setState({playlistName: name});\n  }\n\n  savePlaylist() {\n    const trackUris = this.state.playlistTracks.map(track => track.uri);\n    Spotify.savePlaylist(this.state.playlistName, trackUris).then(() => {\n      this.setState({\n        playlistName: '[NAME PLAYLIST]',\n        playlistTracks: []\n      });\n    });\n  }\n\n  render() {\n    return (\n        <div>\n          <h1>SOUND<span className=\"highlight\">TRACKS</span></h1>\n          <div className=\"App\">\n\n            <SearchBar onSearch={this.openAiSearch} />\n            <div className=\"App-playlist\">\n              <SearchResults searchResults={this.state.searchResults}\n                             onAdd={this.addTrack} />\n              <Playlist playlistName={this.state.playlistName}\n                        playlistTracks={this.state.playlistTracks}\n                        onNameChange={this.updatePlaylistName}\n                        onRemove={this.removeTrack}\n                        onSave={this.savePlaylist} />\n            </div>\n          </div>\n        </div>\n    );\n  }\n\n}\n\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}